<!--
<BCIT COMP4711 Assignment1 - Multiplayer Tank Game>
Copyright (C) Jake Jonghun Choi A00982751 - All Rights Reserved.
Unauthorized copying of this file, via any medium is strictly prohibited.
Written by Jake Jonghun Choi <jchoi179@my.bcit.ca>
-->
<html>
<head>

  <!-- Load Bootstrap -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">
 
  <!-- Laod JQuery -->  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
 
  <!-- Load Custom Stylesheet -->
  <link rel="stylesheet" type="text/css" href="./views/style.css">
  
</head>
<body>

  <!-- Main Game Screen Element -->
  <div id="view_screen"></div>

  <p>Badge book login:</p>
  <input id="emailField" type="text" placeholder="email">
  <input id="passwordField" type="password" placeholder="password">
  <button class="btn btn-primary" onclick="login()">Submit</button>
  <script>
    function login() {
      var xmlhttp = new XMLHttpRequest(); // new HttpRequest instance
      console.log('login clicked');

      xmlhttp.open("POST", "/blogin");
      xmlhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");

      var url = window.location.href;

      xmlhttp.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
          window.location.href = url + "start_game?user_name=" + document.getElementById('emailField').value;
        
        }
      };

      xmlhttp.send(JSON.stringify({
        "email": document.getElementById('emailField').value, "password":
          document.getElementById('passwordField').value
      }));

    }
  </script>
  <!-- Javascripts -->
  <script src="./models/model_main.js"></script>
  <script src="./models/model_messages.js"></script>
  <script src="./views/view_main.js"></script>
  <script src="./controllers/controller_main.js"></script>
  <script src="./controllers/app_main.js"></script>

</body>
</html>